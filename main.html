<html>

	<head>
		<link rel="stylesheet" type="text/css" href="css/board.css">
		<title> Quantum Chess </title>
	</head>

	<body onresize="ChangeBoardSize()">
		<!-- Board --> 
		<div id ="board_div"> </div>

		<!-- Info -->

	</body>

</html>

<script type="text/javascript">

	const board_width = 8;
	const board_height = 8;
	const color = [ "BLACK", "WHITE" ];
	
	// draw a simple chess board
	function DrawBoard() {

		var board = document.getElementById( "board_div" );

		var board_text = "";
		board_text += "<table \
			id=\"board\" \
			class=\"board\" \
			align=\"center\" \
			>";

		var i, j;
		for ( i = 1 ; i <= board_height ; i++ ) {
			board_text += "<tr\
				id=\"row" + i +"\"\
			>";
			for ( j = 1 ; j <= board_width ; j++ ) {
				board_text += "<td \
					id=\"square" + i + j + "\"\
					class=\"table" + color[ ( i + j ) % 2 ] + "\"> \
					</td>";
			}
			board_text += "</tr>";
		}

		board_text += "</table>";

		board.innerHTML = board_text;
	}

	// change the height of the squares according to their width
	function ChangeBoardSize() {

		const window_buffer = 50;

		// get the width 
		var board_size = 0.8 * document.body.clientWidth;
		board_size = Math.min( board_size, window.innerWidth - window_buffer );
		board_size = Math.min( board_size, window.innerHeight - window_buffer );

		console.log( board_size );
	
		const height = board_size / board_height;
		const width = board_size / board_width;

		// set width
		document.getElementById( "board" ).setAttribute( "width", width * board_width+ "px" );
		document.getElementById( "board" ).style.width = width * board_width + "px";

		var i, j;
		for ( i = 1 ; i <= board_height ; i++ ) {

			var row_id = "row" + i;
			var row = document.getElementById( row_id );

			// set new height
			row.setAttribute( "height", height + "px" );
			row.style.height = height + "px";
		}
	}

	// onload
	DrawBoard();
	ChangeBoardSize();

</script>